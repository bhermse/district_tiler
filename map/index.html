<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
      integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
      integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
      crossorigin=""
    ></script>
    <script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.js"></script>

    <style>
      #map {
        height: 580px;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      // mapbox/streets-v11
      var map = L.map("map").setView([39.82, -98.58], 9);

      L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
        attribution:
          'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: "mapbox/streets-v11",
        tileSize: 512,
        zoomOffset: -1,
        accessToken: "[MAPBOX_TOKEN]",
      }).addTo(map);

      // WebMercatorQuad,WGS1984Quad
      var mapboxUrl = "http://localhost:8000/tiles/WebMercatorQuad/public.cd117/{z}/{x}/{y}.pbf";

      //rendererFactory: L.canvas.tile,
      //interactive: true,
      //pane: "OverlayPane",

      /*
        "public.cd117": {
          fill: true,
          weight: 4,
          fillColor: "#ff0000",
          color: "#ff0000",
          opacity: 0.4,
        },
      */
      var mapboxVectorTileOptions = {
        rendererFactory: L.canvas.tile,
        interactive: true,
        vectorTileLayerStyles: {
          default: {
            fill: false,
            weight: 1,
            fillColor: "#9f28c5",
            color: "#9f28c5",
            opacity: 0.4,
            fillOpacity: 0.2,
          },
        },
      };
      var mapboxPbfLayer = L.vectorGrid.protobuf(mapboxUrl, mapboxVectorTileOptions).addTo(map);
    </script>
  </body>
</html>
